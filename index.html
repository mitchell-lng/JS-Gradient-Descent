<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gradient Descent</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="utils.js"></script>
</head>
<body>
    <header>
        <section class="hero is-primary">
            <div class="hero-body">
                <div class="container">
                    <h1 class="title">
                        Simple Gradient Descent
                    </h1>
                    <h2 class="subtitle">
                        Single Variable
                    </h2>
                </div>
            </div>
        </section>
    </header>
    <main class="m-6">
        <div class="columns">
            <div class="column" style="text-align: center;">
                <canvas id="myChart" width="400" height="400"></canvas>
                <p id="equation-out">Equation:<br>y = x^3 + 5x^2 + x</p>
            </div>
            <div class="column" style="text-align: center">
                <canvas id="gDescent" width="400" height="400"></canvas>
                <p>X Axis labels are rounded for brevity</p>
            </div>
            <div class="column is-one-quarter">
                <div>
                    <div>
                        <div class="field">
                            <label for="equation" class="label">Equation:</label>
                            <div class="control">
                                <input type="text" class="input" id="equation" name="equation" placeholder="x^3 + 5*x^2 + x">
                            </div>
                            <p class="help">Use <i>x</i> as your variable</p>
                        </div>
                        <script>
                            document.getElementById("equation").addEventListener('change', (event) => {
                                update();
                            });
                        </script>
                    </div>
                    <div class="field">
                        <label for="volume" class="label">Step: <span id="volume-counter">500</span></label>
                        <div class="control">
                            <input class="input" type="number" id="volume" name="volume" min="0" max="1000" placeholder="500" value="50">
                        </div>

                    </div>
                    <script>
                        document.getElementById("volume").addEventListener('change', (event) => {
                            update();
                        });
                    </script>
                </div>
                <div>
                    <div class="field">
                        <label for="out" class="label">Final Output</label>
                        <div class="control">
                            <input type="number" class="input" id="out" name="out" placeholder="5">
                        </div>
                    </div>
                    <script>
                        document.getElementById("out").addEventListener('change', (event) => {
                            output = document.getElementById("out").value;
                            update();
                        });
                    </script>
                </div>
                <div>
                    <div class="field">
                        <label for="volume" class="label">Initial Alpha</label>
                        <div class="control">
                            <input type="number" class="input" id="alpha" name="volume" placeholder="0.1">
                        </div>
                        <p class="help">The alpha will slowly decrease over time in order to increase accuracy</p>
                    </div>
                    <script>
                        document.getElementById("alpha").addEventListener('change', (event) => {
                            alpha = document.getElementById("alpha").value;
                            update();
                        });
                    </script>
                </div>
                <div>
                    <p>Final Input: <span id="final-in"></span></p>
                    <p>Final Output: <span id="final-out"></span></p>
                </div>
            </div>
        </div>
        <div class="columns section has-background-info m-6">
            <div class="column" style="text-align: center;">
                <h1 class="title has-text-light">The Basic Idea</h1>
                <img src="https://miro.medium.com/max/600/1*iNPHcCxIvcm7RwkRaMTx1g.jpeg" class="p-5 has-background-white">
            </div>
        </div>
        <script src="./solve.js"></script>
        <script src="./graph.js"></script>
    </main>
</body>
</html>